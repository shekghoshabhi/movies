{"version":3,"sources":["Components/Movies.js","Components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["Movies","handleChange","e","val","target","value","console","log","setState","currSearchText","onDelete","id","arr","state","movies","filter","movieObj","_id","sortByRatings","className","sortedMovies","sort","movieObjA","movieObjB","dailyRentalRate","sortByStock","numberInStock","handlePageChange","pageNumber","currPage","handleGenreChange","genre","cGenre","genres","name","a","axios","get","res","genreRes","data","this","filteredArr","title","toLowerCase","includes","numberofPage","Math","ceil","length","pageNumberArr","i","push","si","ei","slice","role","class","map","genreObj","onClick","type","onChange","scope","aria-hidden","aria-label","classStyle","Component","Home","App","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fca460b4.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { getMovies } from './getMovies';\nimport axios from 'axios';\nexport default class Movies extends Component {\n    constructor() {\n        super();\n        this.state = {\n            movies: [],\n            currSearchText: '',\n            currPage: 1,\n            genres: [{ _id: 'abcd', name: 'All Genres' }],\n            cGenre: 'All Genres'\n\n        }\n    }\n    async componentDidMount() {\n        console.log('Component DID Mount');\n        let res = await axios.get('https://backend-react-movie.herokuapp.com/movies');\n        let genreRes = await axios.get('https://backend-react-movie.herokuapp.com/genres');\n        // console.log(res.data.movies);\n        console.log(genreRes.data.genres);\n        this.setState({\n            movies: res.data.movies,\n            genres: [...this.state.genres, ...genreRes.data.genres]\n        })\n    }\n    handleChange = (e) => {\n        let val = e.target.value;\n        console.log(val);\n        this.setState({\n            currSearchText: val,\n\n        })\n    }\n    onDelete = (id) => {\n        let arr = this.state.movies.filter(function (movieObj) {\n            return movieObj._id !== id;\n        })\n        // console.log(arr);\n        this.setState({\n            movies: arr\n        });\n    }\n    sortByRatings = (e) => {\n        let className = e.target.className;\n        console.log(className);\n        let sortedMovies = [];\n        if (className == 'fa fa-sort-asc') {\n            //ascending order\n            sortedMovies = this.state.movies.sort(function (movieObjA, movieObjB) {\n                return movieObjA.dailyRentalRate - movieObjB.dailyRentalRate\n            })\n        }\n        else {\n            //descending order\n            sortedMovies = this.state.movies.sort(function (movieObjA, movieObjB) {\n                return movieObjB.dailyRentalRate - movieObjA.dailyRentalRate\n            })\n        }\n        this.setState({\n            movies: sortedMovies\n        })\n    }\n    sortByStock = (e) => {\n        let className = e.target.className;\n        console.log(className);\n        let sortedMovies = [];\n        if (className == 'fa fa-sort-asc') {\n            //ascending order\n            sortedMovies = this.state.movies.sort(function (movieObjA, movieObjB) {\n                return movieObjA.numberInStock - movieObjB.numberInStock\n            })\n        }\n        else {\n            //descending order\n            sortedMovies = this.state.movies.sort(function (movieObjA, movieObjB) {\n                return movieObjB.numberInStock - movieObjA.numberInStock\n            })\n        }\n        this.setState({\n            movies: sortedMovies\n        })\n    }\n    handlePageChange = (pageNumber) => {\n        this.setState({ currPage: pageNumber });\n    }\n    handleGenreChange = (genre) => {\n        this.setState({\n            cGenre: genre\n        })\n    }\n    render() {\n        console.log('render');\n        let { movies, currSearchText, currPage, genres, cGenre } = this.state; //ES6 destructuring\n        let limit = 4;\n        let filteredArr = [];\n        if (currSearchText === '') {\n            filteredArr = movies;\n        }\n        else {\n            filteredArr = movies.filter(function (movieObj) {\n                let title = movieObj.title.toLowerCase();\n                console.log(title);\n                return title.includes(currSearchText.toLowerCase());\n            })\n        }\n        if (cGenre != 'All Genres') {\n            filteredArr = filteredArr.filter(function (movieObj) {\n                return movieObj.genre.name == cGenre\n            })\n        }\n        let numberofPage = Math.ceil(filteredArr.length / limit);\n        let pageNumberArr = [];\n        for (let i = 0; i < numberofPage; i++) {\n            pageNumberArr.push(i + 1);\n        }\n        let si = (currPage - 1) * limit;\n        let ei = si + limit;\n        filteredArr = filteredArr.slice(si, ei);\n        return (\n\n            //JSX\n            <>\n                {this.state.movies.length == 0 ? <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div> :\n                    <div className='container'>\n                        <div className='row'>\n                            <div className='col-3'>\n                                <ul className=\"list-group\">\n                                    {\n                                        genres.map((genreObj) => (\n                                            <li onClick={() => this.handleGenreChange(genreObj.name)} key={genreObj._id} className='list-group-item'>\n                                                {genreObj.name}\n                                            </li>\n                                        ))\n                                    }\n                                </ul>\n                                <h5>Current Genre : {cGenre}</h5>\n                            </div>\n                            <div className='col-9'>\n                                <input type='search' value={this.state.currSearchText} onChange={this.handleChange} ></input>\n                                <table className=\"table\">\n                                    <thead>\n                                        <tr>\n                                            <th scope=\"col\">#</th>\n                                            <th scope=\"col\">Title</th>\n                                            <th scope=\"col\">Genre</th>\n                                            <th scope=\"col\">\n                                                <i onClick={this.sortByStock} className=\"fa fa-sort-asc\" aria-hidden=\"true\"></i>\n                                                Stock\n                                                <i onClick={this.sortByStock} className=\"fa fa-sort-desc\" aria-hidden=\"true\"></i>\n                                            </th>\n                                            <th scope=\"col\">\n                                                <i onClick={this.sortByRatings} className=\"fa fa-sort-asc\" aria-hidden=\"true\"></i>\n                                                Rate\n                                                <i onClick={this.sortByRatings} className=\"fa fa-sort-desc\" aria-hidden=\"true\"></i>\n                                            </th>\n                                            <th></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {\n                                            filteredArr.map((movieObj) => {\n                                                return (\n                                                    <tr key={movieObj._id} >\n                                                        <td></td>\n                                                        <td>{movieObj.title}</td>\n                                                        <td>{movieObj.genre.name}</td>\n                                                        <td>{movieObj.numberInStock}</td>\n                                                        <td>{movieObj.dailyRentalRate}</td>\n                                                        <td><button onClick={() => {\n                                                            this.onDelete(movieObj._id)\n                                                        }} type=\"button\" className=\"btn btn-danger\">Delete</button></td>\n                                                    </tr>\n                                                )\n                                            })\n                                        }\n                                    </tbody>\n                                </table>\n                                <nav aria-label=\"...\">\n                                    <ul className=\"pagination\">\n                                        {\n                                            pageNumberArr.map((pageNumber) => {\n                                                let classStyle = pageNumber == currPage ? 'page-item active' : 'page-item';\n                                                return (\n                                                    <li key={pageNumber} onClick={() => this.handlePageChange(pageNumber)}\n                                                        className={classStyle}><span className=\"page-link\">{pageNumber}</span></li>\n                                                )\n                                            })\n                                        }\n                                    </ul>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                }\n            </>\n        )\n    }\n}\n\n{/* <li className=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n    <li className=\"page-item active\" aria-current=\"page\">\n      <a className=\"page-link\" href=\"#\">2</a>\n    </li>\n    <li className=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li> */}","import React from 'react'\n\nfunction Home() {\n    return (\n        <div>\n            <h1>This is the home commponent</h1>\n        </div>\n    )\n}\n\nexport default Home\n","import Movies from './Components/Movies';\nimport Home from './Components/Home';\nimport {BrowserRouter as Router,Route,Switch} from 'react-router-dom'\nfunction App() {\n  return (\n  <Router>\n    \n    <Switch> \n    <Route path='/' exact component={Home}/>\n    <Route path='/movies' component={Movies}/>\n    {/* <Route path='/about' component={About} isAuth={true} />\n    <Route path='/about' render={(props)=>(\n      <About {...props} isAuth={true}/>\n    )}/> */}\n  </Switch>\n  </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />\n ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}